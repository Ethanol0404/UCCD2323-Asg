<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart with Select</title>

  <style>
body {
  font-family: 'Times New Roman', Times, serif, sans-serif;
  background: #f9f9f9;
  margin: 0;
  padding: 20px;
}

/* Container */
.cart-container {
  max-width: 1000px;
  margin: auto;
  padding: 20px;
}

/* Title */
h2 {
  margin-bottom: 20px;
  text-align: center;
  font-size: 28px;
  color: #333;
}

/* Table */
table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 12px; /* gap between rows */
  text-align: center;
}

/* Table head */
thead {
  background: #f8d76e;
}

thead tr {
  border-radius: 12px;
}

thead th {
  padding: 14px;
  font-weight: bold;
}

thead th:first-child {
  border-top-left-radius: 12px;
  border-bottom-left-radius: 12px;
}

thead th:last-child {
  border-top-right-radius: 12px;
  border-bottom-right-radius: 12px;
}

/* Column widths */
thead th:nth-child(2),
tbody td:nth-child(2) {
  width: 300px; /* Product column */
}

thead th,
tbody td {
  width: 120px; /* Other columns */
}

tbody tr {
  background: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  border-radius: 12px;   /* rounded corners for the whole row */
  overflow: hidden;      /* keep corners clean */
}

/* Table body cells */
tbody td {
  padding: 12px;
  vertical-align: middle;
  text-align: center;
}

/* Optional: first & last cells spacing fix */
tbody td:first-child {
  border-top-left-radius: 12px;
  border-bottom-left-radius: 12px;
}
tbody td:last-child {
  border-top-right-radius: 12px;
  border-bottom-right-radius: 12px;
}

/* Product cell */
.product {
  display: flex;
  align-items: center;
  gap: 12px;
  justify-content: flex-start;
}

.product img {
  width: 70px;
  height: 70px;
  border-radius: 8px;
  object-fit: cover;
}

/* Quantity */
.quantity input {
  width: 55px;
  text-align: center;
  padding: 5px;
  border: 1px solid #ccc;
  border-radius: 6px;
}

/* Remove button */
.remove-btn {
  background: #ff4d4d;
  border: none;
  color: white;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s;
}

.remove-btn:hover {
  background: #d93636;
}

/* Cart summary */
.cart-summary {
  text-align: right;
  margin-top: 20px;
}

.cart-summary h3 {
  font-size: 20px;
  margin-bottom: 10px;
}

.checkout-btn {
  background: #ff9b29;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.3s;
}

.checkout-btn:hover {
  background: #bc6b14;
}

/* Empty message */
#emptyMessage {
  display: none;
  text-align: center;
  font-size: 20px;
  color: #666;
  margin: 30px 0;
}

  </style>
</head>
<body>
  <div class="cart-container">
    <h2>Your Cart</h2>

    <p id="emptyMessage">Your cart is empty!</p>

    <table id="cartTable">
    <thead>
        <tr>
        <th><input type="checkbox" id="selectAll"></th>
        <th>Product</th>
        <th>Unit Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th>Remove</th>
        </tr>
    </thead>
    <tbody id="cartBody"></tbody>
    </table>

    <div class="cart-summary">
      <h3>Total: $55.00</h3>
      <button class="checkout-btn">Proceed to Checkout</button>
    </div>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", function() {
    const selectAllCheckbox = document.getElementById("selectAll");
    const rowCheckboxes = document.querySelectorAll(".row-checkbox");
    const quantityInputs = document.querySelectorAll(".quantity input");
    const removeButtons = document.querySelectorAll(".remove-btn");
    const totalElement = document.querySelector(".cart-summary h3");

    // Update cart total
    function updateCartTotal() {
      let total = 0;
      const rows = document.querySelectorAll("tbody tr");

      rows.forEach(row => {
        const checkbox = row.querySelector(".row-checkbox");
        const priceElement = row.querySelector("td:nth-child(3)");
        const quantityInput = row.querySelector(".quantity input");
        const totalCell = row.querySelector("td:nth-child(5)");

        const price = parseFloat(priceElement.textContent.replace("$", ""));
        const quantity = parseInt(quantityInput.value);
        const rowTotal = price * quantity;

        totalCell.textContent = `$${rowTotal.toFixed(2)}`;

        if (checkbox.checked) total += rowTotal;
      });

      totalElement.textContent = `Total: $${total.toFixed(2)}`;
    }

    // Quantity change
    quantityInputs.forEach(input => {
      input.addEventListener("change", function() {
        if (this.value < 1) this.value = 1;
        updateCartTotal();
      });
    });

    // Remove product
    removeButtons.forEach(btn => {
      btn.addEventListener("click", function() {
        this.closest("tr").remove();
        updateCartTotal();
      });
    });

    // Select all
    selectAllCheckbox.addEventListener("change", function() {
      rowCheckboxes.forEach(cb => cb.checked = this.checked);
      updateCartTotal();
    });

    // Row checkbox change
    rowCheckboxes.forEach(cb => {
      cb.addEventListener("change", function() {
        if (!this.checked) {
          selectAllCheckbox.checked = false;
        } else if (document.querySelectorAll(".row-checkbox:checked").length === rowCheckboxes.length) {
          selectAllCheckbox.checked = true;
        }
        updateCartTotal();
      });
    });

    // Initial calculation
    updateCartTotal();
  });
  </script>
</body>
</html>
